[[python  к вершинам мастерства]]
При выполнении базовых операций c моделями данных python. такие методы часто используются при выполнении некоторых синтаксических конструкций. Имена таких методов начинаются и заканчиваются двумя знаками подчёркивания.

за конструкцией `object[key]` стоит метод `__getitem__ ` который принимает key (ключ или индекс обьекта который мы хотим получить) `object.__getitem__(key)`

что бы наши [[dataclass|датаклассы]] могли взаемодействовать с обычными коллекциями 
- коллекции;
- доступк к атрибутам
- итерирование
- перегрузку операторов
- вызов функций методов
- представление и форматирование строк
- асинзронное программирование с использованием await
- создание у уничтожение обьектов
- управляемые контексты
нужны магические и dunder методы (`__methodname__`)
рекомендация
> если у тебя есть f-строка то не всегда ёё будет использовать удобно. Она используеться только когда у тебя есть явный доступ к переменной которая вставляеться в f-строку. Если строка составная то в целом будет розумным использовать .format()

создадим модель карты Card и колоду карт FrenchDeck
```python
import collections  
  
Card = collections.namedtuple('Card', ['rank', 'suit'])  
  
  
class FrenchDeck:  
    ranks = [str(n) for n in range(2, 11)] + list('JQKA')  
    suits = 'spades diamonds clubs hearts'.split()  
  
  
    def __init__(self):  
        self._cards = [  
            Card(rank, suit) for suit in self.suits  
            for rank in self.ranks  
        ]  
  
  
    def __len__(self):  
        return len(self._cards)  
  
  
    def __getitem__(self, position):  
        return self._cards[position]  
  
for card in FrenchDeck()._cards:  
    print(card)
```
Модель (класс) Card сдесь реальзован с помощью специального метода модуля collections - [[namedtuple]].

магические методы предназначены для того что бы вызываться в нутри интерпритатора python но не как не из кода