Gunicorn - это HTTP веб сервер для python [[WSGI сервера|WSGI]] используваемый в unix системах. На винде работать не будет по тому что используеться pre-fork модель.

**pre-fork**- система в которой веб сервер создаёт несколько дочерних процессов которые паралельно обрабатывают запросы. Прикол тут в том что каждый запрос выполняется в отдельном процессе что означает сравнительно безопасное выполнение.


#### Для чего мы используем gunicorn?
Uvicorn скажем более простой и тривеальный чем Gunicorn Uvicorn не так производителен и запускает приложение на прямую. А Gunicorn создаёт несколько обработчиков и балансирует между ними нагрузку что позволяет значительно увеличить производительность и скорость. Но есть небольшое НО c [[Fast API]] Gunicorn нужно использовать только в связке с Uvicorn по тому что Uvicorn работает с асинхронными приложениями.

Короче Uvicorn для разработки Gunicorn для продакшена.

### Как запустить с FAST API?

Вообще всё довольно просто. Нужно установить его сначала:
```shell
pip install gunicorn
```
и войдя в папку с проектом прописать подобную команду:
```shell
gunicorn main:app --workers 1 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000                  
```
разберу её по словам
`gunicorn main:app` обращение к gunicorn и указание где находится ASGI приложение
`--workers` указание количество воркеров (проще говория копий запущеного приложения) по сути сколько запросов мы можем выполнять паралельно, вообще идеально будет **кол-во ядер процессора * 2 + 1**. 

Такая формула по тому что в каждом процессе есть треды а +1 по тому что нужно иметь резевный воркер. Это такая самая универсальная формула.

`--worker-class` тут указываеться какой воркер будет работать с твоим приложением. `uvicorn.workers.UvicornWorker` работает с uvicorn/

`--bind` хост и порт на который будут оправляться запросы