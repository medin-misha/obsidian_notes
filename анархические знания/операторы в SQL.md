# distinct
оператор distinct помогает убрать повторения в записи, если у нас есть список учеников  в школе и каждый ученик имеет свой класс
```sql
select class from students
```
будет вывод типа:
1,1,1,1,2,2,2,2,3,3,3,3
что бы получить классы по одному и не фильтровать всё в коде можно использоваться `distinct`
```sql
select distinct class from students
```
если нужно отфильтровать 2 и более полей то distinct будет работать по **полному соотвецтвию** 

| first_name | last_name |
| ---------- | --------- |
| John       | Scott     |
| William    | Dawson    |
| Raul       | Hartman   |
| William    | Hartman   |
| John       | Hartman   |
| John       | Scott     |
```sql
select distinct first_name, last_name from peoples
```
не выведеться только последний  
John Scott


# логические операторы

| название                          | знак  | описание                                     |
| --------------------------------- | ----- | -------------------------------------------- |
| строгое стравнение                | =     | если 1 равен 1 то true если 01 = 1  то false |
| не строгое сравнение              | <=>   | если 01 <=>"1" то true                       |
| больше меньше                     | > <   | 1 < 2 true 2 > 1 true 2 < 1 false            |
| больше или равно меньше или равно | <= >= | 1 <= 2 true 1 <= 1 true                      |
|                                   |       |                                              |

[[SQL]]
# операторы в сравнениях
## isnull
оператор `is null` проверяет являеться ли данное значение `null-ом` допустим выведем всех преподов у которых отчество = null
```sql
SELECT * FROM Teacher
WHERE middle_name IS NULL;
```
если мы хотим отрицать то есть вывести всех преподов которые имеют отчество то используем оператор `not`
```sql
select * from Tacher 
where middle_name in not null
```
## between
создадим значение *x = 10*, x может меняться от 0 до 15 и нам нужно проверить если 
x >= 4 и x <= 13 то делаем то выводим x
проще будет записать это с помощью оператора `between`
```sql
select * from table
where number between 4 and 13
```
## in 
in позволяет уточнить входит ли в значение в список если входит то `true` если нет то `false`
```sql
select status from famaly
where status in ("mother", "father")
```
тут сказано что мы выводим только если статус есть в кортеже
# like
позволяет фильтровать строки по шаблону, допустим если у нас есть несколько почт и нам нужно отфильтровать все почты @me.com это можно сделать с помощью оператора `like`
```sql
select email from Users
where email like "%@me.%"
```
если нужно допустим проверить начало текста то 
```sql
... where field like "text%"
```
тут без %  в начале по скольку мы проверяем первые елементы строки
```sql
... where field like "_ext"
```
это означает что последние символы должны быть `ext` например пройдут слова **text next**
```sql
... WHERE поле_таблицы LIKE 'begin%end'
```

Сопоставляется строкам, начинающихся на «begin» и заканчивающихся на «end»
# ESCAPE-символ

ESCAPE-символ используется для экранирования специальных символов (% и \). В случае если вам нужно найти строки, вы можете использовать ESCAPE-символ.

Например, вы хотите получить идентификаторы задач, прогресс которых равен 3%:

MySQL

```sql
SELECT job_id FROM Jobs
WHERE progress LIKE '3!%' ESCAPE '!';
```

Если бы мы не экранировали трафаретный символ, то в выборку попало бы всё, что начинается на 3.
# order by
используется для сортировки елементов,
```sql
select name, elem in table
order by name, elem
```
тут мы сортируем записи по name если name одинаковы то по elem
так же можно использовать операторы 
```sql
[ASC | DESC]
```
это по сути сортировка в обратном порядке 
`ASC` — сортировка по возрастанию (по умолчанию).
`DESC` — сортировка по убыванию.
# group by
допустим у нас есть таблица с комнатами, у каждой комнаты есть тип:
- для семьи
- для женщины
- для мужчины
поскольку записей много а типа только 3 то было бы не плохо вывести эти типы, тут нам поможет `group by` он сканит весь столбец и выводит всё в виде множество, а во множестве елементы повторяться не могут
```sql
SELECT home_type FROM Rooms
GROUP BY home_type;
```
ответ будет:
- для семьи
- для женщины
- для мужчины

если нам понадобаться узнать среднию цену каждого типа квартир то можно использовать функцию AVG 

```sql
SELECT home_type, avg(price) FROM Rooms
GROUP BY home_type 
```
- для семьи 89.4286
- для женщины 148.6667
- для мужчины 40
> в этом случае запрос разбирает все записи на 3 группы операясь на поле `home_type`.
> Теперь у нас есть 3 списка, как 3 отдельные таблицы с которыми мы работаем.
> Далее для каждого списка применяется функция avg для поля price, и получается результат.
